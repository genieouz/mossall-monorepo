"use strict";(self.webpackChunkmossal_web_app=self.webpackChunkmossal_web_app||[]).push([[400],{9400:(C,f,r)=>{r.r(f),r.d(f,{TranslationsModule:()=>j});var e=r(177),p=r(7062);class h{}var t=r(4438),u=r(5312),T=r(1626),c=r(9664);let d=(()=>{class a{constructor(n,s){this.http=n,this.translate=s,this.baseUrl=u.c.API_URI}getTranslations(n){return this.http.get(`${u.c.API_URI}/translations?lang=${n}`)}getSupportedLanguages(){return this.http.get(`${u.c.API_URI}/translations/languages`)}addTranslation(n){return this.http.post(`${this.baseUrl}/translations`,n)}updateTranslation(n,s){return this.http.put(`${this.baseUrl}/translations/${n}`,s)}deleteTranslation(n){return this.http.delete(`${this.baseUrl}/translations/${n}`)}loadTranslations(n){this.getTranslations(n).subscribe(s=>{this.translate.setTranslation(n,s),this.translate.use(n)})}switchLanguage(){this.loadTranslations("en"===this.translate.currentLang?"fr":"en")}chooseLangue(n){this.loadTranslations(n)}static#t=this.\u0275fac=function(s){return new(s||a)(t.KVO(T.Qq),t.KVO(c.c$))};static#n=this.\u0275prov=t.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var o=r(9417),l=r(2920);function g(a,m){if(1&a){const n=t.RV6();t.j41(0,"div",9)(1,"div",3)(2,"label"),t.EFF(3),t.nI1(4,"translate"),t.nI1(5,"titlecase"),t.k0s(),t.nrm(6,"input",10),t.k0s(),t.j41(7,"div",3)(8,"label"),t.EFF(9),t.nI1(10,"translate"),t.nI1(11,"titlecase"),t.k0s(),t.nrm(12,"input",11),t.k0s(),t.j41(13,"button",12),t.bIt("click",function(){const i=t.eBV(n).index,k=t.XpG(2);return t.Njj(k.removeTranslation(i))}),t.EFF(14),t.nI1(15,"translate"),t.nI1(16,"titlecase"),t.k0s()()}2&a&&(t.Y8G("formGroupName",m.index),t.R7$(3),t.JRh(t.bMT(5,6,t.bMT(4,4,"lang"))),t.R7$(6),t.JRh(t.bMT(11,10,t.bMT(10,8,"text"))),t.R7$(5),t.JRh(t.bMT(16,14,t.bMT(15,12,"delete"))))}function v(a,m){if(1&a){const n=t.RV6();t.j41(0,"form",2),t.bIt("ngSubmit",function(){t.eBV(n);const i=t.XpG();return t.Njj(i.onSubmit())}),t.j41(1,"h2"),t.EFF(2,"Translations"),t.k0s(),t.j41(3,"div",3)(4,"label"),t.EFF(5),t.nI1(6,"translate"),t.nI1(7,"titlecase"),t.k0s(),t.nrm(8,"input",4),t.k0s(),t.j41(9,"div",5),t.DNE(10,g,17,16,"div",6),t.k0s(),t.j41(11,"div")(12,"button",7),t.bIt("click",function(){t.eBV(n);const i=t.XpG();return t.Njj(i.addTranslation())}),t.EFF(13),t.nI1(14,"translate"),t.nI1(15,"titlecase"),t.k0s()(),t.j41(16,"div")(17,"button",8),t.EFF(18,"Ajouter"),t.k0s()()()}if(2&a){const n=t.XpG();t.Y8G("formGroup",n.formGroup),t.R7$(5),t.JRh(t.bMT(7,6,t.bMT(6,4,"key"))),t.R7$(5),t.Y8G("ngForOf",n.valuesArray.controls),t.R7$(3),t.JRh(t.bMT(15,10,t.bMT(14,8,"add translation")))}}let b=(()=>{class a{constructor(n,s){this.formBuilder=n,this.translationService=s}ngOnInit(){this.formGroup=this.formBuilder.group({key:["",o.k0.required],values:this.formBuilder.array([])})}get valuesArray(){return this.formGroup.get("values")}addTranslation(){const n=this.formBuilder.group({lang:["",o.k0.required],text:["",o.k0.required]});this.valuesArray.push(n)}removeTranslation(n){this.valuesArray.removeAt(n)}onSubmit(){if(this.formGroup.valid){const n={key:this.formGroup.value.key,values:this.formGroup.value.values.map(s=>({lang:s.lang,text:s.text}))};this.translationService.addTranslation(n).subscribe(s=>{this.formGroup.reset()})}}static#t=this.\u0275fac=function(s){return new(s||a)(t.rXU(o.ok),t.rXU(d))};static#n=this.\u0275cmp=t.VBU({type:a,selectors:[["app-translation-form"]],inputs:{translation:"translation"},decls:2,vars:1,consts:[["fxLayout","row","fxLayoutAlign","center start",1,"form-container"],["fxFlex","50%","fxLayout","column","fxLayoutAlign","start start","fxLayoutGap","24px",3,"formGroup","ngSubmit",4,"ngIf"],["fxFlex","50%","fxLayout","column","fxLayoutAlign","start start","fxLayoutGap","24px",3,"ngSubmit","formGroup"],["fxFill","","fxLayout","column","fxLayoutAlign","start start","fxLayoutGap","10px",1,"form-group"],["formControlName","key",1,"form-control"],["formArrayName","values","fxFill","","fxLayout","column","fxLayoutAlign","start start","fxLayoutGap","24px"],[3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-form-default",3,"click"],["type","submit",1,"btn","btn-form-primary"],[3,"formGroupName"],["formControlName","lang",1,"form-control"],["formControlName","text",1,"form-control"],[3,"click"]],template:function(s,i){1&s&&(t.j41(0,"div",0),t.DNE(1,v,19,12,"form",1),t.k0s()),2&s&&(t.R7$(),t.Y8G("ngIf",!0))},dependencies:[e.Sq,e.bT,o.qT,o.me,o.BC,o.cb,o.j4,o.JD,o.$R,o.v8,l.DJ,l.BO,l.sA,l.G2,l.UI,e.PV,c.D9],styles:[".page-container[_ngcontent-%COMP%]{padding-top:144px}.btn-default[_ngcontent-%COMP%]{width:110px;height:40px}"]})}return a})();function x(a,m){if(1&a&&t.nrm(0,"app-translation-form",2),2&a){const n=t.XpG();t.Y8G("translation",n.newTranslation)}}const y=[{path:"",component:(()=>{class a{constructor(n){this.translationService=n,this.translations=[],this.newTranslation=new h,this.selectedLanguage="en"}ngOnInit(){}loadTranslations(){this.translationService.getTranslations(this.selectedLanguage).subscribe(n=>{this.translations=n})}addTranslation(n){this.translationService.addTranslation(n).subscribe(()=>{this.loadTranslations(),this.newTranslation=new h})}updateTranslation(n,s){this.translationService.updateTranslation(n,s).subscribe(()=>{this.loadTranslations()})}deleteTranslation(n){this.translationService.deleteTranslation(n).subscribe(()=>{this.loadTranslations()})}static#t=this.\u0275fac=function(s){return new(s||a)(t.rXU(d))};static#n=this.\u0275cmp=t.VBU({type:a,selectors:[["app-translations"]],decls:2,vars:1,consts:[[1,"translations"],[3,"translation",4,"ngIf"],[3,"translation"]],template:function(s,i){1&s&&(t.j41(0,"div",0),t.DNE(1,x,1,1,"app-translation-form",1),t.k0s()),2&s&&(t.R7$(),t.Y8G("ngIf",!0))},dependencies:[e.bT,b]})}return a})()}];let F=(()=>{class a{static#t=this.\u0275fac=function(s){return new(s||a)};static#n=this.\u0275mod=t.$C({type:a});static#a=this.\u0275inj=t.G2t({imports:[p.iI.forChild(y),p.iI]})}return a})();var G=r(6924),I=r(9213);let j=(()=>{class a{static#t=this.\u0275fac=function(s){return new(s||a)};static#n=this.\u0275mod=t.$C({type:a});static#a=this.\u0275inj=t.G2t({imports:[e.MD,F,o.X1,G.YF,I.m_,c.h]})}return a})()}}]);