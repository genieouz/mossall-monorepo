"use strict";(self.webpackChunkmossal_web_app=self.webpackChunkmossal_web_app||[]).push([[459],{2459:(L,w,c)=>{c.r(w),c.d(w,{DashboardModule:()=>Ct});var r=c(177),l=c(7062),b=c(7655),t=c(4438),x=c(4412);let C=(()=>{class o{constructor(){this.isOpenSubject=new x.t(null)}toggleSidebar(e){this.isOpenSubject.next(e)}isSidebarOpen(){return this.isOpenSubject.asObservable()}static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var y=c(6100),d=c(7393),u=c(2920),P=c(6038),_=c(9213),j=c(5498),D=c(447),M=c(2649);function A(o,f){1&o&&(t.j41(0,"div",27),t.nrm(1,"img",28),t.k0s())}let R=(()=>{class o{constructor(e,n,a,s,v){this.authService=e,this.appService=n,this.sidebarService=a,this.keycloakService=s,this.router=v,this.context=b.y.Default,this.AppContext=b.y,this.contextSubscription=this.appService.contextAsync.subscribe(g=>{this.context=g}),this.headerSubscription=this.sidebarService.isSidebarOpen().subscribe(g=>{this.isSidebarOpened=g}),this.keycloakService.loadUserProfile().then(g=>{this.currentUser=g})}ngOnInit(){}ngOnDestroy(){this.contextSubscription.unsubscribe(),this.headerSubscription.unsubscribe()}get isLogedIn(){return this.authService.isLogedIn()}get user(){return this.currentUser||{}}get userRole(){return this.user.role.toLowerCase()}logout(){this.keycloakService.logout().then(e=>{this.router.navigate(["/"])})}static#t=this.\u0275fac=function(n){return new(n||o)(t.rXU(j.u),t.rXU(y.d),t.rXU(C),t.rXU(D.F1),t.rXU(l.Ix))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-header"]],decls:37,vars:4,consts:[["fxFlex","100","fxLayout","row",1,"container"],["fxFlex","100","fxLayout","row","fxLayoutGap","26px",1,""],["fxLayout","row","fxLayoutAlign","start center",1,"logo-container",3,"ngClass"],["fxLayoutAlign","center center",1,"logo-icon"],["src","./assets/img/logo-icon.png","alt",""],["class","logo-text","fxLayoutAlign","center center",4,"ngIf"],["fxFlex","auto","fxLayout","row","fxLayoutAlign","space-between center"],[1,"title"],["fxLayout","row","fxLayoutGap","24px",1,"user-and-notif-container"],["fxLayout","row"],["fxLayoutAlign","center center",1,"config-icon"],["fxLayoutAlign","center center"],["fxLayoutAlign","center center",1,"message-icon"],[1,"icon-wrapper"],[1,"signal-notif"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","50px",1,"user-container"],["fxLayout","row","fxLayoutAlign","center","fxLayoutGap","8px"],[1,"user-img"],["src","./assets/img/user-img.png","alt",""],["fxLayout","column","fxLayoutAlign","center start",1,"user-detail"],[1,"name"],[1,"role"],["appDropdown","dropdown-header",1,"dropdown"],[1,"icon-dropdown"],["id","dropdown-header",1,"dropdown-content"],[1,"dropdown-option"],[1,"dropdown-option",3,"click"],["fxLayoutAlign","center center",1,"logo-text"],["src","./assets/img/logo-text.png","alt",""]],template:function(n,a){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.nrm(4,"img",4),t.k0s(),t.DNE(5,A,2,0,"div",5),t.k0s(),t.j41(6,"div",6)(7,"span",7),t.EFF(8,"Aper\xe7u"),t.k0s(),t.j41(9,"div",8)(10,"div",9)(11,"span",10)(12,"mat-icon",11),t.EFF(13,"settings"),t.k0s()(),t.j41(14,"span",12)(15,"span",13)(16,"mat-icon",11),t.EFF(17,"notifications_none"),t.k0s(),t.nrm(18,"span",14),t.k0s()()(),t.j41(19,"div",15)(20,"div",16)(21,"div",17),t.nrm(22,"img",18),t.k0s(),t.j41(23,"div",19)(24,"span",20),t.EFF(25),t.k0s(),t.j41(26,"span",21),t.EFF(27,"ADMIN"),t.k0s()()(),t.j41(28,"div",22)(29,"span",23)(30,"mat-icon"),t.EFF(31,"arrow_drop_down"),t.k0s()(),t.j41(32,"div",24)(33,"div",25),t.EFF(34,"Profil"),t.k0s(),t.j41(35,"div",26),t.bIt("click",function(){return a.logout()}),t.EFF(36,"Logout"),t.k0s()()()()()()()()),2&n&&(t.R7$(2),t.Y8G("ngClass",a.isSidebarOpened?"is-opened":"is-closed"),t.R7$(3),t.Y8G("ngIf",a.isSidebarOpened),t.R7$(20),t.Lme("",null==a.user?null:a.user.firstName," ",null==a.user?null:a.user.lastName,""))},dependencies:[r.YU,r.bT,u.DJ,u.BO,u.sA,u.UI,P.PW,_.An,M.x],styles:[".container[_ngcontent-%COMP%]{height:70px;padding:0 24px 0 16px;background:#fff;border-bottom:1px solid #E7E8F2}.logo-container[_ngcontent-%COMP%]{padding-right:16px;border-right:1px solid rgba(167,169,192,.1254901961)}.logo-container[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{width:40px}.logo-container[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.logo-container[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{width:90px}.logo-container[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.logo-container[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .logo-container[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;display:block}.logo-container.is-opened[_ngcontent-%COMP%]{width:243px}.logo-container.is-closed[_ngcontent-%COMP%]{width:72px}.title[_ngcontent-%COMP%]{color:#33343d;font-size:22px;font-weight:600}.user-and-notif-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#a7a9c0;cursor:pointer}.user-and-notif-container[_ngcontent-%COMP%]   .config-icon[_ngcontent-%COMP%], .user-and-notif-container[_ngcontent-%COMP%]   .message-icon[_ngcontent-%COMP%]{width:70px;height:70px;border-right:1px solid rgba(167,169,192,.1254901961)}.user-and-notif-container[_ngcontent-%COMP%]   .config-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .user-and-notif-container[_ngcontent-%COMP%]   .message-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px}.user-and-notif-container[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{position:relative}.user-and-notif-container[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .signal-notif[_ngcontent-%COMP%]{position:absolute;top:4px;right:4px;width:8px;height:8px;border-radius:50%;background:#ffc708;color:#fff;font-size:9px;font-weight:700}.user-and-notif-container[_ngcontent-%COMP%]   .config-icon[_ngcontent-%COMP%]{border-left:1px solid rgba(167,169,192,.1254901961)}.user-and-notif-container[_ngcontent-%COMP%]   .user-img[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;overflow:hidden}.user-and-notif-container[_ngcontent-%COMP%]   .user-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%}.user-and-notif-container[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#25233a;font-size:15px;font-weight:400}.user-and-notif-container[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{color:#8b8c99;font-size:12px;font-weight:400}"]})}return o})();function T(o,f){if(1&o&&(t.j41(0,"span",11),t.EFF(1),t.k0s()),2&o){const e=t.XpG().$implicit;t.R7$(),t.JRh(e.label)}}function I(o,f){if(1&o&&(t.j41(0,"span",7)(1,"span",8)(2,"span",9)(3,"mat-icon"),t.EFF(4),t.k0s()(),t.DNE(5,T,2,1,"span",10),t.k0s()()),2&o){const e=f.$implicit,n=t.XpG();t.R7$(),t.Y8G("routerLink",e.link),t.R7$(3),t.JRh(e.icon),t.R7$(),t.Y8G("ngIf",n.isSidebarOpened)}}let S=(()=>{class o{constructor(e,n,a){this.sidebarService=e,this.appService=n,this.fetchCurrentAdminGQL=a,this.isSidebarOpened=!1,this.dashboardNav=[{label:"Tableau de bord",link:"overview",icon:"dashboard"},{label:"Liste des demandes",link:"requests-list",icon:"list_alt"},{label:"Collaborateurs",link:"collaborators",icon:"people"},{label:"Notifications",link:"Notifications",icon:"notifications_none"},{label:"Mon Compte",link:"user",icon:"person_outline"}],this.getCurrentUser()}ngOnInit(){this.sidebarService.toggleSidebar(this.isSidebarOpened),this.appService.setContext(b.y.Dashboard)}ngOnDestroy(){this.appService.setContext(b.y.Dashboard)}handleToggleSidebar(){this.isSidebarOpened=!this.isSidebarOpened,this.sidebarService.toggleSidebar(this.isSidebarOpened)}getCurrentUser(){this.fetchCurrentAdminGQL.fetch().subscribe(e=>{this.currentUser=e.data.fetchCurrentAdmin,this.dashboardNav="SUPER_ADMIN_ORG"==this.currentUser.role?this.menuSuperAdmin:this.menuAdmin,console.log({user:this.currentUser})})}get menuAdmin(){return[{label:"Tableau de bord",link:"overview",icon:"dashboard"},{label:"Liste des demandes",link:"requests-list",icon:"list_alt"},{label:"Collaborateurs",link:"collaborators",icon:"people"},{label:"Notifications",link:"Notifications",icon:"notifications_none"},{label:"Mon Compte",link:"user",icon:"person_outline"}]}get menuSuperAdmin(){return[{label:"Tableau de bord",link:"overview",icon:"dashboard"},{label:"Liste des demandes",link:"requests-list",icon:"list_alt"},{label:"Administrateurs",link:"admins",icon:"person"},{label:"Collaborateurs",link:"collaborators",icon:"people"},{label:"Notifications",link:"Notifications",icon:"notifications_none"},{label:"Mon Compte",link:"user",icon:"person_outline"}]}static#t=this.\u0275fac=function(n){return new(n||o)(t.rXU(C),t.rXU(y.d),t.rXU(d.$n))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-dashboard"]],decls:10,vars:2,consts:[["fxLayout","row",1,"container"],["fxLayout","column","fxLayoutAlign","space-between none",1,"sidebar",3,"ngClass"],[1,"toggleSidebar",3,"click"],["fxLayoutAlign","center center"],["fxLayout","column","fxLayoutGap","2px",1,"navigation"],["class","nav-item-container",4,"ngFor","ngForOf"],["fxFlex","auto",1,"container-wrapper"],[1,"nav-item-container"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","12px","routerLinkActive","active",1,"nav-item",3,"routerLink"],["fxLayoutAlign","center center",1,"icon"],["class","label",4,"ngIf"],[1,"label"]],template:function(n,a){1&n&&(t.nrm(0,"app-header"),t.j41(1,"div",0)(2,"div",1)(3,"span",2),t.bIt("click",function(){return a.handleToggleSidebar()}),t.j41(4,"mat-icon",3),t.EFF(5,"keyboard_arrow_left"),t.k0s()(),t.j41(6,"div",4),t.DNE(7,I,6,3,"span",5),t.k0s()(),t.j41(8,"div",6),t.nrm(9,"router-outlet"),t.k0s()()),2&n&&(t.R7$(2),t.Y8G("ngClass",a.isSidebarOpened?"is-opened":"is-closed"),t.R7$(5),t.Y8G("ngForOf",a.dashboardNav))},dependencies:[r.YU,r.Sq,r.bT,l.n3,l.Wk,l.wQ,u.DJ,u.BO,u.sA,u.UI,P.PW,_.An,R],styles:[".container[_ngcontent-%COMP%]{background:#f1f7ff;height:calc(100vh - 70px)}.sidebar[_ngcontent-%COMP%]{height:100%;background-color:#fff;box-shadow:0 1px #e7e8f2;padding-top:36px;position:relative}.sidebar.is-opened[_ngcontent-%COMP%]{max-width:260px;width:100%}.sidebar.is-opened[_ngcontent-%COMP%]   .toggleSidebar[_ngcontent-%COMP%]{transform:rotate(0)}.sidebar.is-closed[_ngcontent-%COMP%]{width:auto}.sidebar.is-closed[_ngcontent-%COMP%]   .toggleSidebar[_ngcontent-%COMP%]{transform:rotate(180deg)}.sidebar[_ngcontent-%COMP%]   .toggleSidebar[_ngcontent-%COMP%]{position:absolute;top:8px;right:-12px;width:24px;height:24px;border-radius:50%;background-color:#061e5c;color:#fff;cursor:pointer;transition:transform .3s}.sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{padding:16px;transition:all .3s;cursor:pointer}.sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#000;height:24px;width:24px;border-radius:50px;background-color:transparent}.sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:16px;height:16px;font-size:16px}.sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#061e5c60;font-size:15px;font-weight:500;letter-spacing:.2px}.sidebar[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{background:#f1f7ff;border-radius:6px;color:#061e5c}.sidebar[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{background-color:#ffc708}.sidebar[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover{border-radius:6px;background:#f1f7ff}.sidebar[_ngcontent-%COMP%]   .btn-logout-container[_ngcontent-%COMP%]{border-top:1px solid rgba(167,169,192,.1254901961)}.sidebar[_ngcontent-%COMP%]   .btn-logout-container[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]{padding:16px;cursor:pointer;color:#061e5c60;font-size:16px;font-weight:600;letter-spacing:.067px}.sidebar[_ngcontent-%COMP%]   .btn-logout-container[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .nav-item-container[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}.container-wrapper[_ngcontent-%COMP%]{overflow-x:hidden;padding:32px 24px 32px 26px;max-width:100%}"]})}return o})();var G=c(1635);let B=(()=>{class o{constructor(e,n){this.googleChartsSettings=n,this.loadedPackages=[],this.loaded=!1,this.googleChartsSettings=Object.assign(Object.assign({},{googleChartsVersion:"50",language:e}),this.googleChartsSettings),this.googleScriptLoadingNotifier=new t.bkB,this.googleChartLoadingNotifier=new t.bkB,this.googleScriptIsLoading=!1,this.googleChartIsLoading=!1,this.loadGoogleChartsScriptPromise=new Promise((s,v)=>{if(typeof google<"u"&&google.charts)s();else if(this.googleScriptIsLoading)this.googleScriptLoadingNotifier.subscribe(g=>{g?s():v()});else{this.googleScriptIsLoading=!0;const g=document.createElement("script");g.type="text/javascript",g.src="https://www.gstatic.com/charts/loader.js",g.async=!0,g.defer=!0,g.onload=()=>{this.googleScriptIsLoading=!1,this.googleScriptLoadingNotifier.emit(!0),s()},g.onerror=()=>{this.googleScriptIsLoading=!1,this.googleScriptLoadingNotifier.emit(!1),v()},document.getElementsByTagName("head")[0].appendChild(g)}})}load(e){return(0,G.sH)(this,void 0,void 0,function*(){yield this.loadGoogleChartsScriptPromise,yield new Promise(n=>{this.googleChartIsLoading?this.googleChartLoadingNotifier.subscribe(()=>{this.doLoad(n,e)}):this.doLoad(n,e)})})}doLoad(e,n){if(!(n=Object.assign(Object.assign({},this.googleChartsSettings),n)).packages&&this.loaded)return void e();if(n.packages){let s=n.packages.filter(v=>this.loadedPackages.indexOf(v)<0);if(0==s.length&&this.loaded)return void e();n.packages=s}const a=n;a.callback=()=>{this.googleChartIsLoading=!1,void 0!==a.packages&&(this.loadedPackages=this.loadedPackages.concat(a.packages)),this.loaded=!0,this.googleChartLoadingNotifier.emit(),e()},this.googleChartIsLoading=!0,google.charts.load(n.googleChartsVersion,a)}}return o.\u0275fac=function(e){return new(e||o)(t.KVO(t.xe9),t.KVO("googleChartsSettings",8))},o.\u0275prov=t.jDH({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var k=function(o){return o.AnnotationChart="AnnotationChart",o.AreaChart="AreaChart",o.BarChart="BarChart",o.BubbleChart="BubbleChart",o.Calendar="Calendar",o.CandlestickChart="CandlestickChart",o.ColumnChart="ColumnChart",o.ComboChart="ComboChart",o.Gantt="Gantt",o.Gauge="Gauge",o.GeoChart="GeoChart",o.Histogram="Histogram",o.LineChart="LineChart",o.Map="Map",o.OrgChart="OrgChart",o.PieChart="PieChart",o.Sankey="Sankey",o.ScatterChart="ScatterChart",o.SteppedAreaChart="SteppedAreaChart",o.Table="Table",o.Timeline="Timeline",o.TreeMap="TreeMap",o.VegaChart="VegaChart",o.WordTree="WordTree",o}(k||{});let p=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.$C({type:o}),o.\u0275inj=t.G2t({providers:[B]}),o})();var $=c(5865),q=c(4827);const Y=()=>({"background-color":"#061E5C"}),H=()=>({"background-color":"#FFC708"}),J=()=>({"background-color":"#40B139"}),K=()=>({"background-color":"#F41414"});function Q(o,f){if(1&o){const e=t.RV6();t.j41(0,"tr",40)(1,"td",41)(2,"span",42),t.bIt("click",function(){const a=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.selectCollab(a))}),t.k0s(),t.j41(3,"span"),t.EFF(4),t.k0s()(),t.j41(5,"td",43)(6,"div",44),t.EFF(7),t.k0s(),t.j41(8,"span"),t.EFF(9),t.k0s()(),t.j41(10,"td",45),t.EFF(11),t.k0s(),t.j41(12,"td",46),t.EFF(13),t.nI1(14,"date"),t.k0s(),t.j41(15,"td",47),t.nrm(16,"span"),t.nI1(17,"lowercase"),t.j41(18,"span"),t.EFF(19),t.k0s()()()}if(2&o){let e,n;const a=f.$implicit,s=t.XpG();t.R7$(2),t.ZvI("radio ",(null==s.selectedCollab?null:s.selectedCollab.id)===a.id?"active":"",""),t.R7$(2),t.JRh(null==a||null==a.organization?null:a.organization.name),t.R7$(3),t.Lme("",null==a?null:a.firstName[0],"",null==a?null:a.lastName[0],""),t.R7$(2),t.Lme("",null==a?null:a.firstName," ",null==a?null:a.lastName,""),t.R7$(2),t.SpI("XOF ",null==a?null:a.balance,""),t.R7$(2),t.JRh(t.i5U(14,15,null==a?null:a.createdAt,"YYYY-MM-dd")),t.R7$(3),t.ZvI("statut statut--",t.bMT(17,18,null==(e=s.getLastRequest(a.id))?null:e.status),""),t.R7$(3),t.Lme("",null!=(n=s.getLastRequest(a.id))&&n.amount?"XOF":""," ",(null==(n=s.getLastRequest(a.id))?null:n.amount)||"__","")}}let W=(()=>{class o{constructor(e,n,a){this.fetchOrganizationDemandesGQL=e,this.fetchOrganizationCollaboratorsGQL=n,this.snackBarService=a,this.cardPrevData=[{label:"Montant total demand\xe9",devis:"XOF",value:"2.500.000",img:"./assets/img/data-preview-img1.svg",color:"#061E5C"},{label:"Reste total \xe0 payer",devis:"XOF",value:"1.500.000",img:"./assets/img/data-preview-img2.svg",color:"#FFC708"},{label:"Actifs du 1 jan 2022 au 31 dec 2022",devis:"",value:"220",img:"./assets/img/data-preview-img3.svg",color:"#40B139"},{label:"Inscrits du 1 jan au 31 dec 2022",devis:"",value:"200",img:"./assets/img/data-preview-img4.svg",color:"#F41414"}],this.userList=[{},{},{},{},{},{},{}],this.requests=[],this.sortedRequests=[],this.collabs=[],this.chartData={chartType:k.LineChart,dataTable:[[1,37.8,80.8,41.8],[2,30.9,69.5,32.4],[3,25.4,57,25.7],[4,11.7,18.8,10.5],[5,11.9,17.6,10.4],[6,8.8,13.6,7.7],[7,7.6,12.3,9.6],[8,12.3,29.2,10.6],[9,16.9,42.9,14.8],[10,12.8,30.9,11.6],[11,5.3,7.9,4.7],[12,6.6,8.4,5.2],[13,4.8,6.3,3.6],[14,4.2,6.2,3.4]],options:{hAxis:{title:"Box Office Earnings in First Two Weeks of Opening"},vAxis:{title:"in millions of dollars (USD)"}}},this.getDemandes(),this.fetchCollabs()}getDemandes(e=!0){let n="cache-first";e||(n="no-cache"),this.fetchOrganizationDemandesGQL.fetch({},{fetchPolicy:n}).subscribe(a=>{this.requests=a.data.fetchOrganizationDemandes,this.selectedReq=this.requests?.[0],this.sortedRequests=this.requests.slice().sort((s,v)=>s.createdAt>v.createdAt?-1:1)})}fetchCollabs(){this.fetchOrganizationCollaboratorsGQL.fetch({},{fetchPolicy:"no-cache"}).subscribe(e=>{this.collabs=e.data.fetchOrganizationCollaborators,this.selectedCollab=this.collabs?.[0]})}selectCollab(e){this.selectedCollab=e}selectReq(e){this.selectedReq=e}get nbValid(){return this?.requests?.filter?.(e=>e.status===d.Nd.Validated)?.length||0}get nbRejected(){return this?.requests?.filter?.(e=>e.status===d.Nd.Rejected)?.length||0}get nbPending(){return this?.requests?.filter?.(e=>e.status===d.Nd.Pending)?.length||0}get totalDemandeAmount(){return this?.requests?.filter?.(e=>[d.Nd.Validated,d.Nd.Pending].includes(e.status))?.reduce((e,n)=>e+n.amount,0)||0}get totalDemandeToPay(){return this?.requests?.filter?.(e=>[d.Nd.Validated].includes(e.status))?.reduce((e,n)=>e+n.amount,0)||0}get nbActifUsers(){const e=[];return this?.collabs?.map?.(n=>{e.includes(n.id)||e.push(n.id)}),e.length}ngOnInit(){}getLastRequest(e){return this.sortedRequests.find(n=>n.collaborator.id==e)}static#t=this.\u0275fac=function(n){return new(n||o)(t.rXU(d.$R),t.rXU(d.lV),t.rXU($.v))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-overview"]],decls:104,vars:23,consts:[["fxLayout","column","fxLayoutGap","50px",1,"page-wrapper"],["fxLayout","column","fxLayoutGap","32px",1,"data-first-preview"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"dashboard-title"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","32px"],[1,"time-interval"],["fxLayout","row","fxLayoutAlign","start center","fxLayoutGap","10px",1,"current-time-interval"],["fxLayoutAlign","start center",1,"value"],["fxLayoutAlign","center center"],["fxLayout","row","fxLayoutGap","32px","fxLayoutAlign","start start",1,"card-data-container"],["fxLayout","row","fxLayoutAlign","space-between start",1,"data-card"],["fxLayout","column"],[1,"label"],[1,"devis"],[1,"value"],["fxLayoutAlign","center center",1,"data-image",3,"ngStyle"],["alt","",3,"src"],["fxLayout","row","fxLayoutAlign","none start","fxLayoutGap","40px"],["fxFlex","auto","fxLayout","column","fxLayoutGap","16px",1,"user-list-container"],["fxLayout","row","fxLayoutAlign","space-between center",1,"top"],[1,"nbr-user"],[1,"dropdown","dropdown-filter",3,"appDropdown"],["fxLayout","row","fxLayoutAlign","space-between center",1,"btn-filter"],["fxLayoutAlign","center center",1,"icon"],[1,"text"],["id","dropdown-filter-user-list-saved",1,"dropdown-content"],[1,"dropdown-option"],[1,"table"],["fxLayout","row",1,"titles-container"],["fxFlex","20","fxLayoutAlign","start center",1,"title"],["fxFlex","20","fxLayoutAlign","center center",1,"title"],["class","user","fxLayout","row",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","16px",1,"legends"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","8px",1,"valid"],[1,"color"],[1,"nbr"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","8px",1,"rejected"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","8px",1,"pending"],[1,"info-current-user"],[3,"user"],["fxLayout","row",1,"user"],["fxFlex","20","fxLayoutAlign","start center","fxLayout","row","fxLayoutGap","16px",1,"radio-container"],["fxLayoutAlign","center center",3,"click"],["fxFlex","20","fxLayoutAlign","center center","fxLayoutGap","8px",1,"name"],["fxLayoutAlign","center center",1,"circle"],["fxFlex","20","fxLayoutAlign","center center",1,"solde"],["fxFlex","20","fxLayoutAlign","center center",1,"date"],["fxFlex","20","fxLayout","row","fxLayoutGap","8px","fxLayoutAlign","center center",1,"advance"]],template:function(n,a){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),t.EFF(4,"Ech\xe9ances Avance sur salaire"),t.k0s(),t.j41(5,"div",4)(6,"div",5)(7,"span",6)(8,"span",7),t.EFF(9,"Du 1 jan 2024 au 31 dec 2024"),t.k0s(),t.j41(10,"mat-icon",8),t.EFF(11,"arrow_drop_down"),t.k0s()()(),t.j41(12,"span",3),t.EFF(13,"Filtrer"),t.k0s()()(),t.j41(14,"div",9)(15,"div",10)(16,"div",11)(17,"div")(18,"span",12),t.EFF(19,"Montant total demand\xe9"),t.k0s()(),t.j41(20,"div",11)(21,"span",13),t.EFF(22,"XOF"),t.k0s(),t.j41(23,"span",14),t.EFF(24),t.k0s()()(),t.j41(25,"div",15),t.nrm(26,"img",16),t.k0s()(),t.j41(27,"div",10)(28,"div",11)(29,"div")(30,"span",12),t.EFF(31,"Reste total \xe0 payer"),t.k0s()(),t.j41(32,"div",11)(33,"span",13),t.EFF(34,"XOF"),t.k0s(),t.j41(35,"span",14),t.EFF(36),t.k0s()()(),t.j41(37,"div",15),t.nrm(38,"img",16),t.k0s()(),t.j41(39,"div",10)(40,"div",11)(41,"div")(42,"span",12),t.EFF(43,"Actifs du 1 jan 2024 au 31 dec 2024"),t.k0s()(),t.j41(44,"div",11)(45,"span",14),t.EFF(46),t.k0s()()(),t.j41(47,"div",15),t.nrm(48,"img",16),t.k0s()(),t.j41(49,"div",10)(50,"div",11)(51,"div")(52,"span",12),t.EFF(53,"Inscrits du 1 jan au 31 dec 2024"),t.k0s()(),t.j41(54,"div",11)(55,"span",14),t.EFF(56),t.k0s()()(),t.j41(57,"div",15),t.nrm(58,"img",16),t.k0s()()()(),t.j41(59,"div",17)(60,"div",18)(61,"div",19)(62,"span",20),t.EFF(63),t.k0s(),t.j41(64,"div",21)(65,"div",22)(66,"span",23)(67,"mat-icon",8),t.EFF(68,"filter_list"),t.k0s()(),t.j41(69,"span",24),t.EFF(70,"Filtrer"),t.k0s()(),t.j41(71,"div",25)(72,"div",26),t.EFF(73,"Nouveaux utilisateurs inscrits r\xe9cemment"),t.k0s(),t.j41(74,"div",26),t.EFF(75,"Utilisateurs avec les avances en cours"),t.k0s()()()(),t.j41(76,"table",27)(77,"tr",28)(78,"th",29),t.EFF(79,"Entreprise"),t.k0s(),t.j41(80,"th",30),t.EFF(81,"Collaborateur"),t.k0s(),t.j41(82,"th",30),t.EFF(83,"Solde"),t.k0s(),t.j41(84,"th",30),t.EFF(85,"Date"),t.k0s(),t.j41(86,"th",30),t.EFF(87,"Avance sur salaire"),t.k0s()(),t.DNE(88,Q,20,20,"tr",31),t.k0s(),t.j41(89,"div",32)(90,"div",33),t.nrm(91,"span",34),t.j41(92,"div",35),t.EFF(93),t.k0s()(),t.j41(94,"div",36),t.nrm(95,"span",34),t.j41(96,"div",35),t.EFF(97),t.k0s()(),t.j41(98,"div",37),t.nrm(99,"span",34),t.j41(100,"div",35),t.EFF(101),t.k0s()()()(),t.j41(102,"div",38),t.nrm(103,"app-user-details",39),t.k0s()()()),2&n&&(t.R7$(24),t.JRh(a.totalDemandeAmount),t.R7$(),t.Y8G("ngStyle",t.lJ4(19,Y)),t.R7$(),t.Y8G("src","./assets/img/data-preview-img1.svg",t.B4B),t.R7$(10),t.JRh(a.totalDemandeToPay),t.R7$(),t.Y8G("ngStyle",t.lJ4(20,H)),t.R7$(),t.Y8G("src","./assets/img/data-preview-img2.svg",t.B4B),t.R7$(8),t.JRh(a.nbActifUsers),t.R7$(),t.Y8G("ngStyle",t.lJ4(21,J)),t.R7$(),t.Y8G("src","./assets/img/data-preview-img3.svg",t.B4B),t.R7$(8),t.JRh(a.nbActifUsers),t.R7$(),t.Y8G("ngStyle",t.lJ4(22,K)),t.R7$(),t.Y8G("src","./assets/img/data-preview-img4.svg",t.B4B),t.R7$(5),t.SpI("Utilisateurs enregistr\xe9s (",a.nbActifUsers,")"),t.R7$(),t.Y8G("appDropdown","dropdown-filter-user-list-saved"),t.R7$(24),t.Y8G("ngForOf",a.collabs),t.R7$(5),t.SpI("Valid\xe9 (",a.nbValid,")"),t.R7$(4),t.SpI("Rejet\xe9 (",a.nbRejected,")"),t.R7$(4),t.SpI("En attente (",a.nbPending,")"),t.R7$(2),t.Y8G("user",a.selectedCollab))},dependencies:[r.Sq,r.B3,u.DJ,u.BO,u.sA,u.UI,P.eI,_.An,q.B,M.x,r.GH,r.vh],styles:[".data-first-preview[_ngcontent-%COMP%]   .dashboard-title[_ngcontent-%COMP%]{color:#33343d;font-size:18px;font-weight:500}.data-first-preview[_ngcontent-%COMP%]   .time-interval[_ngcontent-%COMP%]   .current-time-interval[_ngcontent-%COMP%]{height:35px;color:#33343d;font-size:12px;font-weight:500;background-color:#fff;border-radius:4px;padding-right:10px;cursor:pointer}.data-first-preview[_ngcontent-%COMP%]   .time-interval[_ngcontent-%COMP%]   .current-time-interval[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{height:100%;padding:0 16px 0 10px;border-right:1px solid #E7E8F2}.data-first-preview[_ngcontent-%COMP%]   .time-interval[_ngcontent-%COMP%]   .current-time-interval[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#e7e8f2}.data-first-preview[_ngcontent-%COMP%]   .card-data-container[_ngcontent-%COMP%]{max-width:100%;width:100%;overflow-x:auto;scroll-behavior:smooth}.data-first-preview[_ngcontent-%COMP%]   .card-data-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.data-first-preview[_ngcontent-%COMP%]   .card-data-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{display:none}.data-first-preview[_ngcontent-%COMP%]   .card-data-container[_ngcontent-%COMP%]   .data-card[_ngcontent-%COMP%]{border-radius:8px;background:#fff;min-width:282.038px;height:177.21px;padding:16px}.data-first-preview[_ngcontent-%COMP%]   .card-data-container[_ngcontent-%COMP%]   .data-card[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#00000080;font-family:Poppins;font-size:14px;font-weight:500}.data-first-preview[_ngcontent-%COMP%]   .card-data-container[_ngcontent-%COMP%]   .data-card[_ngcontent-%COMP%]   .devis[_ngcontent-%COMP%], .data-first-preview[_ngcontent-%COMP%]   .card-data-container[_ngcontent-%COMP%]   .data-card[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#000;font-family:Poppins;font-size:23px;font-weight:600}.data-first-preview[_ngcontent-%COMP%]   .card-data-container[_ngcontent-%COMP%]   .data-card[_ngcontent-%COMP%]   .data-image[_ngcontent-%COMP%]{width:60px;min-width:60px;height:60px;border-radius:50%;overflow:hidden}.user-list-container[_ngcontent-%COMP%]{padding:26px 0 24px;border-radius:6px;border:1px solid #E7E8F2;background:var(--Blanc, #FFF)}.user-list-container[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{padding:0 32px}.user-list-container[_ngcontent-%COMP%]   .nbr-user[_ngcontent-%COMP%]{color:var(--Primary, #061E5C);font-family:Poppins;font-size:18px;font-weight:600;line-height:120%;letter-spacing:.09px}.user-list-container[_ngcontent-%COMP%]   .dropdown-filter[_ngcontent-%COMP%]   .btn-filter[_ngcontent-%COMP%]{height:42px;width:128px;padding:0 12px;border-radius:4px;border:1px solid #979797;background:var(--Blanc, #FFF);cursor:pointer}.user-list-container[_ngcontent-%COMP%]   .dropdown-filter[_ngcontent-%COMP%]   .btn-filter[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#ccd2e3}.user-list-container[_ngcontent-%COMP%]   .dropdown-filter[_ngcontent-%COMP%]   .btn-filter[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:#33343d;font-family:Roboto;font-size:16px;font-weight:600}.user-list-container[_ngcontent-%COMP%]   .dropdown-filter[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]{top:calc(100% + 4px);border-radius:4px;border:1px solid #979797;border-bottom:none;background:var(--Blanc, #FFF);padding:0}.user-list-container[_ngcontent-%COMP%]   .dropdown-filter[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   .dropdown-option[_ngcontent-%COMP%]{border-bottom:1px solid #979797;padding:8px 18px}.info-current-user[_ngcontent-%COMP%]{max-width:263px;width:100%}"]})}return o})();var F=c(5351),m=c(9417);function Z(o,f){if(1&o){const e=t.RV6();t.j41(0,"form",8)(1,"label",9),t.EFF(2,"Raison"),t.k0s(),t.j41(3,"textarea",10),t.mxI("ngModelChange",function(a){t.eBV(e);const s=t.XpG();return t.DH7(s.reason,a)||(s.reason=a),t.Njj(a)}),t.k0s()()}if(2&o){const e=t.XpG();t.R7$(3),t.R50("ngModel",e.reason)}}let V=(()=>{class o{constructor(e,n){this.dialogRef=e,this.data=n,this.reasonRequired=!1,this.reasonRequired=n.reasonRequired}ngOnInit(){}onConfirm(){this.dialogRef.close(!this.reasonRequired||this.reason)}onCancel(){this.dialogRef.close(!1)}static#t=this.\u0275fac=function(n){return new(n||o)(t.rXU(F.CP),t.rXU(F.Vh))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-confirm-dialog"]],decls:13,vars:2,consts:[["fxLayout","row wrap","fxLayoutAlign","start start","fxFlex","100",1,"confirm-dialog"],["fxFlex","100","fxLayout","column","fxLayoutAlign","center center",1,"message"],["fxLayout","row wrap","fxLayoutAlign","end start","fxFlex","100",1,"header"],[1,"close",3,"click"],["fxFlex","100","fxLayout","column","fxLayoutAlign","start start","fxLayoutGap","8px",4,"ngIf"],["fxFlex","100","fxLayout","row wrap","fxLayoutAlign","end center","fxLayoutGap","16px",1,"footer"],["mat-dialog-close","",1,"cancel",3,"click"],[1,"confirm",3,"click"],["fxFlex","100","fxLayout","column","fxLayoutAlign","start start","fxLayoutGap","8px"],["for","reason"],["fxFill","","name","reason","rows","7",1,"form-control",3,"ngModelChange","ngModel"]],template:function(n,a){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-icon",3),t.bIt("click",function(){return a.onCancel()}),t.EFF(4,"close"),t.k0s()(),t.j41(5,"p"),t.EFF(6),t.k0s()(),t.DNE(7,Z,4,1,"form",4),t.j41(8,"div",5)(9,"button",6),t.bIt("click",function(){return a.onCancel()}),t.EFF(10,"Cancel"),t.k0s(),t.j41(11,"button",7),t.bIt("click",function(){return a.onConfirm()}),t.EFF(12,"Confirm"),t.k0s()()()),2&n&&(t.R7$(6),t.JRh(a.data.message),t.R7$(),t.Y8G("ngIf",a.reasonRequired))},dependencies:[r.bT,F.tx,_.An,u.DJ,u.BO,u.sA,u.G2,u.UI,m.qT,m.me,m.BC,m.cb,m.vS,m.cV],styles:[".confirm-dialog[_ngcontent-%COMP%]{color:#000;box-sizing:border-box!important;width:446px!important;background:#fff;padding-bottom:0!important}.confirm-dialog[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{position:absolute!important;top:15px;right:0}.confirm-dialog[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{font-size:15px}.confirm-dialog[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{cursor:pointer}.confirm-dialog[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{position:relative!important;padding-left:14.5px!important;padding-right:14.5px!important;height:124px;font-family:Proxima Nova;font-style:normal;font-weight:700;font-size:16px;line-height:20px;letter-spacing:.3px}.confirm-dialog[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:-24px 32px 24px}.confirm-dialog[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px}.confirm-dialog[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:7px}.confirm-dialog[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{box-sizing:border-box!important;height:81px!important;background:#fff;border-radius:0 0 4px 4px;padding:20px!important;border-top:1px solid #dee0e3}.confirm-dialog[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{width:92px;height:40px;background:#fff;border:1px solid #001f60;border-radius:4px;font-weight:500;font-size:12px;line-height:16px;text-align:center;letter-spacing:1.2px;text-transform:uppercase;color:#001f60;cursor:pointer}.confirm-dialog[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .confirm[_ngcontent-%COMP%]{width:101px;height:40px;background:#001f60;border-radius:4px;font-weight:500;font-size:12px;line-height:16px;text-align:center;letter-spacing:1.2px;text-transform:uppercase;border:none;color:#fff;cursor:pointer}  .mat-dialog-container{padding:0}"]})}return o})(),tt=(()=>{class o{constructor(e,n){this.elemRef=e,this.dialog=n,this.disabled=!1,this.confirmCallback=()=>{console.log("confirmed")},this.cancelmCallback=()=>{},this.reasonRequired=!1}openDialog(){this.disabled||this.dialog.open(V,{width:"446px",data:{message:this.message,reasonRequired:this.reasonRequired}}).afterClosed().subscribe(n=>{!0===n||n&&this.reasonRequired?this.reasonRequired?this.confirmCallback(this.confirmCallbackParam,n):this.confirmCallback(this.confirmCallbackParam):this.cancelmCallback()})}static#t=this.\u0275fac=function(n){return new(n||o)(t.rXU(t.aKT),t.rXU(F.bZ))};static#e=this.\u0275dir=t.FsC({type:o,selectors:[["","requiresConfirmation",""]],hostBindings:function(n,a){1&n&&t.bIt("click",function(){return a.openDialog()})},inputs:{confirmCallbackParam:"confirmCallbackParam",message:"message",disabled:"disabled",confirmCallback:"confirmCallback",cancelmCallback:"cancelmCallback",reasonRequired:"reasonRequired"}})}return o})();const et=["dropdownContent"],nt=["dropdown"];function ot(o,f){if(1&o){const e=t.RV6();t.j41(0,"tr",44)(1,"td",45)(2,"span",46),t.bIt("click",function(){const a=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.selectReq(a))}),t.k0s(),t.j41(3,"span"),t.EFF(4),t.k0s()(),t.j41(5,"td",47)(6,"div",48),t.EFF(7,"AC"),t.k0s(),t.j41(8,"span"),t.EFF(9),t.k0s()(),t.j41(10,"td",49),t.EFF(11),t.k0s(),t.j41(12,"td",50),t.EFF(13),t.nI1(14,"date"),t.k0s(),t.j41(15,"td",51),t.nrm(16,"span"),t.nI1(17,"lowercase"),t.j41(18,"span"),t.EFF(19),t.k0s()(),t.j41(20,"td",52)(21,"div",53)(22,"span",54)(23,"span",55)(24,"span"),t.EFF(25),t.nI1(26,"titlecase"),t.k0s(),t.nrm(27,"span"),t.nI1(28,"lowercase"),t.k0s(),t.j41(29,"mat-icon",56),t.EFF(30,"keyboard_arrow_down"),t.k0s()(),t.j41(31,"div",57)(32,"div",58),t.EFF(33," Valid\xe9e "),t.nrm(34,"span",15),t.k0s(),t.j41(35,"div",59),t.EFF(36," Rejet\xe9e "),t.nrm(37,"span",16),t.k0s(),t.j41(38,"div",58),t.EFF(39," Annul\xe9e "),t.nrm(40,"span",18),t.k0s()()()()()}if(2&o){const e=f.$implicit,n=t.XpG();t.R7$(2),t.ZvI("radio ",(null==n.selectedReq?null:n.selectedReq.id)===e.id?"active":"",""),t.R7$(2),t.JRh(null==e||null==e.collaborator||null==e.collaborator.organization?null:e.collaborator.organization.name),t.R7$(5),t.Lme("",null==e||null==e.collaborator?null:e.collaborator.firstName," ",null==e||null==e.collaborator?null:e.collaborator.lastName,""),t.R7$(2),t.SpI("XOF ",null==e||null==e.collaborator?null:e.collaborator.balance,""),t.R7$(2),t.JRh(t.i5U(14,26,null==e?null:e.createdAt,"YYYY-MM-dd")),t.R7$(3),t.ZvI("statut statut--",t.bMT(17,29,null==e?null:e.status),""),t.R7$(3),t.SpI("Xof ",null==e?null:e.amount,""),t.R7$(6),t.JRh(t.bMT(26,31,null==e?null:e.status)),t.R7$(2),t.ZvI("statut statut--",t.bMT(28,33,null==e?null:e.status),""),t.R7$(5),t.Y8G("message","Voulez-vous valider cette demande?")("confirmCallback",n.validateDemande)("confirmCallbackParam",null==e?null:e.id),t.R7$(3),t.Y8G("message","Voulez-vous rejeter cette demande?")("confirmCallback",n.rejectDemande)("reasonRequired",!0)("confirmCallbackParam",null==e?null:e.id),t.R7$(3),t.Y8G("message","Voulez-vous annuler cette demande?")("confirmCallback",n.cancelDemande)("confirmCallbackParam",null==e?null:e.id)}}let at=(()=>{class o{onClick(e){this.dropdown.nativeElement.contains(e.target)?this.dropdownContent.nativeElement.classList.add("show"):this.dropdownContent.nativeElement.classList.remove("show")}constructor(e,n,a,s,v){this.fetchOrganizationDemandesGQL=e,this.validateDemandeGQL=n,this.cancelDemandeByAdminGQL=a,this.rejectDemandeByAdminGQL=s,this.snackBarService=v,this.requests=[],this.cancelDemande=g=>{this.cancelDemandeByAdminGQL.mutate({demandeId:g}).subscribe(O=>{O.data.cancelDemandeByAdmin?(this.snackBarService.showSuccessSnackBar("demande annul\xe9e avec succ\xe9s!"),this.getDemandes(!1)):this.snackBarService.showErrorSnackBar()},O=>{this.snackBarService.showErrorSnackBar(5e3,"Vous ne pouvez pas effectuer cette action.")})},this.rejectDemande=(g,O)=>{this.rejectDemandeByAdminGQL.mutate({demandeId:g,rejectedReason:O}).subscribe(E=>{E.data.rejectDemandeByAdmin?(this.snackBarService.showSuccessSnackBar("demande rejet\xe9e avec succ\xe9s!"),this.getDemandes(!1)):this.snackBarService.showErrorSnackBar()},E=>{this.snackBarService.showErrorSnackBar(5e3,"Vous ne pouvez pas effectuer cette action.")})},this.validateDemande=g=>{this.validateDemandeGQL.mutate({demandeId:g}).subscribe(O=>{O.data.validateDemande?(this.snackBarService.showSuccessSnackBar("demande valid\xe9e avec succ\xe9s!"),this.getDemandes(!1)):this.snackBarService.showErrorSnackBar()},O=>{this.snackBarService.showErrorSnackBar(5e3,"Vous ne pouvez pas effectuer cette action.")})},this.getDemandes()}getDemandes(e=!0){let n="cache-first";e||(n="no-cache"),this.fetchOrganizationDemandesGQL.fetch({},{fetchPolicy:n}).subscribe(a=>{this.requests=a.data.fetchOrganizationDemandes,this.selectedReq=this.requests?.[0]})}selectReq(e){this.selectedReq=e}get nbValid(){return this?.requests?.filter?.(e=>e.status===d.Nd.Validated)?.length||0}get nbRejected(){return this?.requests?.filter?.(e=>e.status===d.Nd.Rejected)?.length||0}get nbPending(){return this?.requests?.filter?.(e=>e.status===d.Nd.Pending)?.length||0}static#t=this.\u0275fac=function(n){return new(n||o)(t.rXU(d.$R),t.rXU(d.Pn),t.rXU(d.fK),t.rXU(d.YZ),t.rXU($.v))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-requests-list"]],viewQuery:function(n,a){if(1&n&&(t.GBs(et,5),t.GBs(nt,5)),2&n){let s;t.mGM(s=t.lsd())&&(a.dropdownContent=s.first),t.mGM(s=t.lsd())&&(a.dropdown=s.first)}},hostBindings:function(n,a){1&n&&t.bIt("click",function(v){return a.onClick(v)},!1,t.EBC)},decls:109,vars:5,consts:[["dropdown",""],["dropdownContent",""],["fxLayout","row","fxLayoutAlign","none start","fxLayoutGap","40px",1,"page-wrapper"],["fxFlex","auto","fxLayout","column","fxLayoutGap","32px",1,"table-wrapper"],["fxLayout","column"],["fxLayout","row",1,"filters"],["fxFlex","20","fxLayout","row","fxLayoutAlign","center center",1,"search"],["fxLayoutAlign","center center",1,"icon-search"],["type","text","placeholder","Rechercher"],["fxLayoutAlign","center center",1,"icon-delete"],["fxFlex","20","fxLayout","row","fxLayoutAlign","space-between center","appDropdown","dropdown-statut",1,"dropdown"],["fxFlex","auto",1,"text"],["fxLayoutAlign","space-between center",1,"icon-dropdown"],["id","dropdown-statut",1,"dropdown-content","dropdown-content-filter"],["fxLayout","row","fxLayoutAlign","space-between center",1,"dropdown-option"],[1,"statut","statut--valid"],[1,"statut","statut--rejected"],[1,"statut","statut--pending"],[1,"statut","statut--cancel"],["fxFlex","20","fxLayout","row","fxLayoutAlign","space-between center","appDropdown","dropdown-fourchette",1,"dropdown"],["fxFlex","auto",1,"text","text-on-1-line"],["id","dropdown-fourchette",1,"dropdown-content","dropdown-content-filter"],["fxLayoutAlign","space-between center",1,"dropdown-option"],["fxFlex","20","fxLayout","row","fxLayoutAlign","space-between center",1,"dropdown"],["id","filter-date-dropdown",1,"dropdown-content"],["fxLayout","column","fxLayoutGap","8px",1,"dropdown-option"],["for","debut"],["type","date","id","debut"],["for","fin"],["type","date","id","fin"],["fxFlex","20","fxLayout","row","fxLayoutGap","16px","fxLayoutAlign","center center",1,"btn-filter"],[1,"table"],["fxLayout","row","fxLayoutAlign","space-between center",1,"titles-container"],["fxFlex","16.6","fxLayoutAlign","start center",1,"title"],["fxFlex","16.6","fxLayoutAlign","center center",1,"title"],["class","user","fxLayout","row","fxLayoutAlign","space-between center",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","16px",1,"legends"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","8px",1,"valid"],[1,"color"],[1,"nbr"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","8px",1,"rejected"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","8px",1,"pending"],[1,"info-current-user"],[3,"user"],["fxLayout","row","fxLayoutAlign","space-between center",1,"user"],["fxFlex","16.6","fxLayoutAlign","start center","fxLayout","row","fxLayoutGap","16px",1,"radio-container"],["fxLayoutAlign","center center",3,"click"],["fxFlex","16.6","fxLayoutAlign","center center","fxLayoutGap","8px",1,"name"],["fxLayoutAlign","center center",1,"circle"],["fxFlex","16.6","fxLayoutAlign","center center",1,"solde"],["fxFlex","16.6","fxLayoutAlign","center center",1,"date"],["fxFlex","16.6","fxLayout","row","fxLayoutGap","8px","fxLayoutAlign","center center",1,"advance"],["fxFlex","16.6","fxLayoutAlign","end center"],["fxFlex","100","appDropdown","dropdown-action",1,"dropdown"],["fxLayout","row",1,"btn-edit-statut"],["fxFlex","auto","fxLayout","row","fxLayoutGap","8px","fxLayoutAlign","center center",1,"text"],["fxLayoutAlign","center center",1,"dropdown-icon"],["id","dropdown-action",1,"dropdown-content","dropdown-content-filter"],["fxLayout","row","fxLayoutAlign","space-between center","requiresConfirmation","",1,"dropdown-option",3,"message","confirmCallback","confirmCallbackParam"],["fxLayout","row","fxLayoutAlign","space-between center","requiresConfirmation","",1,"dropdown-option",3,"message","confirmCallback","reasonRequired","confirmCallbackParam"]],template:function(n,a){1&n&&(t.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"mat-icon",7),t.EFF(6,"search"),t.k0s(),t.nrm(7,"input",8),t.j41(8,"mat-icon",9),t.EFF(9,"close"),t.k0s()(),t.j41(10,"div",10)(11,"span",11),t.EFF(12,"Statut"),t.k0s(),t.j41(13,"mat-icon",12),t.EFF(14,"keyboard_arrow_down"),t.k0s(),t.j41(15,"div",13)(16,"div",14),t.EFF(17,"Valid\xe9e "),t.nrm(18,"span",15),t.k0s(),t.j41(19,"div",14),t.EFF(20,"Rejet\xe9e "),t.nrm(21,"span",16),t.k0s(),t.j41(22,"div",14),t.EFF(23,"En attente "),t.nrm(24,"span",17),t.k0s(),t.j41(25,"div",14),t.EFF(26,"Annul\xe9e "),t.nrm(27,"span",18),t.k0s()()(),t.j41(28,"div",19)(29,"span",20),t.EFF(30,"Fourchette de demande"),t.k0s(),t.j41(31,"mat-icon",12),t.EFF(32,"keyboard_arrow_down"),t.k0s(),t.j41(33,"div",21)(34,"div",22)(35,"span"),t.EFF(36,"0"),t.k0s(),t.EFF(37,"\xe0 "),t.j41(38,"span"),t.EFF(39,"100"),t.k0s()(),t.j41(40,"div",22)(41,"span"),t.EFF(42,"100"),t.k0s(),t.EFF(43," \xe0 "),t.j41(44,"span"),t.EFF(45,"250"),t.k0s()(),t.j41(46,"div",22)(47,"span"),t.EFF(48,"250"),t.k0s(),t.EFF(49," \xe0 "),t.j41(50,"span"),t.EFF(51,"1.000"),t.k0s()(),t.j41(52,"div",22)(53,"span"),t.EFF(54,"1.000"),t.k0s(),t.EFF(55," \xe0 "),t.j41(56,"span"),t.EFF(57,"plus"),t.k0s()()()(),t.j41(58,"div",23,0)(60,"span"),t.EFF(61,"Date"),t.k0s(),t.j41(62,"mat-icon",12),t.EFF(63,"keyboard_arrow_down"),t.k0s(),t.j41(64,"div",24,1)(66,"div",25)(67,"label",26),t.EFF(68,"Du"),t.k0s(),t.nrm(69,"input",27),t.k0s(),t.j41(70,"div",25)(71,"label",28),t.EFF(72,"Au"),t.k0s(),t.nrm(73,"input",29),t.k0s()()(),t.j41(74,"div",30)(75,"mat-icon"),t.EFF(76,"filter_list"),t.k0s(),t.j41(77,"span"),t.EFF(78,"Filtrer"),t.k0s()()(),t.j41(79,"table",31)(80,"tr",32)(81,"th",33),t.EFF(82,"Entreprise"),t.k0s(),t.j41(83,"th",34),t.EFF(84,"Collaborateur"),t.k0s(),t.j41(85,"th",34),t.EFF(86,"Solde"),t.k0s(),t.j41(87,"th",34),t.EFF(88,"Date"),t.k0s(),t.j41(89,"th",34),t.EFF(90,"Avance sur salaire"),t.k0s(),t.j41(91,"th",34),t.EFF(92,"Actions"),t.k0s()(),t.DNE(93,ot,41,35,"tr",35),t.k0s()(),t.j41(94,"div",36)(95,"div",37),t.nrm(96,"span",38),t.j41(97,"div",39),t.EFF(98),t.k0s()(),t.j41(99,"div",40),t.nrm(100,"span",38),t.j41(101,"div",39),t.EFF(102),t.k0s()(),t.j41(103,"div",41),t.nrm(104,"span",38),t.j41(105,"div",39),t.EFF(106),t.k0s()()()(),t.j41(107,"div",42),t.nrm(108,"app-user-details",43),t.k0s()()),2&n&&(t.R7$(93),t.Y8G("ngForOf",a.requests),t.R7$(5),t.SpI("Valid\xe9 (",a.nbValid,")"),t.R7$(4),t.SpI("Rejet\xe9 (",a.nbRejected,")"),t.R7$(4),t.SpI("En attente (",a.nbPending,")"),t.R7$(2),t.Y8G("user",null==a.selectedReq?null:a.selectedReq.collaborator))},dependencies:[r.Sq,u.DJ,u.BO,u.sA,u.UI,_.An,q.B,M.x,tt,r.GH,r.PV,r.vh],styles:[".filters[_ngcontent-%COMP%]{border:1px solid #000;height:66px}.filters[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:0 12px;border-right:1px solid #000;position:relative}.filters[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-of-type{border-right:none}.filters[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;border:none}.filters[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .icon-search[_ngcontent-%COMP%]{color:#0c1d58}.filters[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{border:none;outline:none;background-color:transparent;width:100%;padding:0 12px 0 4px;color:#aaa;font-size:18px;font-weight:400;color:#000}.filters[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#aaa}.filters[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .icon-delete[_ngcontent-%COMP%]{color:#cacaca}.filters[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .icon-search[_ngcontent-%COMP%], .filters[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .icon-delete[_ngcontent-%COMP%]{cursor:pointer}.filters[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:#aaa;font-size:18px;font-weight:400}.filters[_ngcontent-%COMP%]   .btn-filter[_ngcontent-%COMP%]{background:var(--Primary, #001F60);color:var(--Blanc, #FFF);font-family:Poppins;font-size:16px;font-weight:600;cursor:pointer;border-right:none}.filters[_ngcontent-%COMP%]   .icon-dropdown[_ngcontent-%COMP%]{min-width:24px;cursor:pointer}#filter-date-dropdown[_ngcontent-%COMP%]{margin-top:4px}#filter-date-dropdown.show[_ngcontent-%COMP%]{display:flex!important}#filter-date-dropdown[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:56px;padding:0 24px;border-radius:8px;border:1px solid var(--XOF, #576E82);background:var(--Blanc, #FFF);color:#000;font-family:Poppins;font-size:16px;font-weight:400}#filter-date-dropdown[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#9a9ab0}"]})}return o})();function rt(o,f){if(1&o&&(t.j41(0,"form",18)(1,"div",19)(2,"label",20),t.EFF(3,"Pr\xe9nom"),t.k0s(),t.nrm(4,"input",21),t.k0s(),t.j41(5,"div",19)(6,"label",22),t.EFF(7,"Nom"),t.k0s(),t.nrm(8,"input",23),t.k0s(),t.j41(9,"div",19)(10,"label",24),t.EFF(11,"Adresse mail"),t.k0s(),t.nrm(12,"input",25),t.k0s(),t.j41(13,"div",19)(14,"label",26),t.EFF(15,"T\xe9l"),t.k0s(),t.nrm(16,"input",27),t.k0s(),t.j41(17,"div",19)(18,"label",28),t.EFF(19,"Adresse postale"),t.k0s(),t.nrm(20,"input",29),t.k0s()()),2&o){const e=t.XpG();t.Y8G("formGroup",e.updateProfileForm),t.R7$(12),t.Y8G("disabled",!0)}}function it(o,f){if(1&o){const e=t.RV6();t.j41(0,"form",30)(1,"span",3),t.EFF(2,"Mot de passe"),t.k0s(),t.j41(3,"div",31)(4,"div",19)(5,"label",32),t.EFF(6,"Mot de passe actuel"),t.k0s(),t.j41(7,"div",33),t.nrm(8,"input",34),t.j41(9,"span",35),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.password=!a.password)}),t.j41(10,"mat-icon"),t.EFF(11),t.k0s()()()(),t.j41(12,"div",19)(13,"label",36),t.EFF(14,"Nouveau mot de passe"),t.k0s(),t.j41(15,"div",33),t.nrm(16,"input",37),t.j41(17,"span",35),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.newPassword=!a.newPassword)}),t.j41(18,"mat-icon"),t.EFF(19),t.k0s()()()(),t.j41(20,"div",19)(21,"label",38),t.EFF(22,"Confirmation de votre mot de passe"),t.k0s(),t.j41(23,"div",33),t.nrm(24,"input",39),t.j41(25,"span",35),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.ConfirmPassword=!a.ConfirmPassword)}),t.j41(26,"mat-icon"),t.EFF(27),t.k0s()()()(),t.j41(28,"div",40)(29,"button",41),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.updatePassword())}),t.EFF(30,"Mettre \xe0 jour"),t.k0s()()()()}if(2&o){const e=t.XpG();t.Y8G("formGroup",e.updatePasswordForm),t.R7$(8),t.Y8G("type",e.password?"password":"text"),t.R7$(3),t.JRh(e.password?"visibility_off":"visibility"),t.R7$(5),t.Y8G("type",e.newPassword?"password":"text"),t.R7$(3),t.JRh(e.newPassword?"visibility_off":"visibility"),t.R7$(2),t.HbH(e.passwordNotEqual?"error":""),t.R7$(3),t.ZvI("form-control ",e.passwordNotEqual?"error":"",""),t.Y8G("type",e.ConfirmPassword?"password":"text"),t.R7$(3),t.JRh(e.ConfirmPassword?"visibility_off":"visibility")}}function st(o,f){1&o&&(t.j41(0,"span"),t.EFF(1,"Activ\xe9"),t.k0s())}function ct(o,f){1&o&&(t.j41(0,"span"),t.EFF(1,"Desactiv\xe9"),t.k0s())}let lt=(()=>{class o{constructor(e,n,a,s,v){this.updateMyAdminPasswordGQL=e,this.fb=n,this.snackBarService=a,this.fetchCurrentAdminGQL=s,this.updateMyAdminProfileGQL=v,this.password=!0,this.newPassword=!0,this.ConfirmPassword=!0,this.toggleMailActivation=!1,this.passwordNotEqual=!1,this.isLoading=!1,this.updatePasswordForm=this.fb.group({newPassword:["",m.k0.required],oldPassword:["",m.k0.required],confirmPassword:["",m.k0.required]}),this.updateProfileForm=this.fb.group({firstName:["",m.k0.required],lastName:["",m.k0.required],email:["",m.k0.required],phoneNumber:["",m.k0.required],address:["",m.k0.required]}),this.getCurrentUser()}updatePassword(){if(this.updatePasswordForm.invalid||this.isLoading)return void this.updatePasswordForm.markAllAsTouched();const e=this.updatePasswordForm.value;e.newPassword===e.confirmPassword?(this.isLoading=!0,this.updateMyAdminPasswordGQL.mutate({oldPassword:e.oldPassword,newPassword:e.newPassword}).subscribe(n=>{this.isLoading=!1,n.data.updateMyAdminPassword?this.snackBarService.showSuccessSnackBar("Mot de passe modifi\xe9 avec succ\xe8s"):this.snackBarService.showErrorSnackBar(5e3,"Mot de passe incorrect")},n=>{this.isLoading=!1,this.snackBarService.showErrorSnackBar(5e3,"Mot de passe incorrect")})):this.passwordNotEqual=!0}getCurrentUser(e=!0){let n="cache-first";e||(n="no-cache"),this.fetchCurrentAdminGQL.fetch({},{fetchPolicy:n}).subscribe(a=>{a.data&&(this.updateProfileForm.patchValue(a?.data?.fetchCurrentAdmin),this.updateProfileForm.controls.email.disable())})}updateProfile(){if(this.updateProfileForm.invalid)return void this.updateProfileForm.markAllAsTouched();const e=this.updateProfileForm.value;delete e.email,this.updateMyAdminProfileGQL.mutate({userInput:e}).subscribe(n=>{n.data.updateMyAdminProfile?this.snackBarService.showSuccessSnackBar("Profile modifi\xe9 avec succ\xe8s"):this.snackBarService.showErrorSnackBar(5e3,"Une erreur est survenue")},n=>{this.snackBarService.showErrorSnackBar(5e3,"Une erreur est survenue")})}static#t=this.\u0275fac=function(n){return new(n||o)(t.rXU(d.q0),t.rXU(m.ok),t.rXU($.v),t.rXU(d.$n),t.rXU(d.cq))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-user"]],decls:24,vars:6,consts:[["fxLayout","column","fxLayoutGap","32px",1,"form-container","form-container-card"],["fxLayout","row","fxLayoutGap","32px"],["fxFlex","50","fxLayout","column","fxLayoutGap","38px"],[1,"title"],["class","wrapper form-container","fxLayout","column","fxLayoutGap","38px",3,"formGroup",4,"ngIf"],["fxFlex","50","fxLayout","column","fxLayoutGap","24px"],["fxLayout","column","fxLayoutGap","38px","class","form-container",3,"formGroup",4,"ngIf"],["fxFlex","auto","fxLayout","column","fxLayoutGap","38px"],["fxLayout","column","fxLayoutGap","38px","fxFlex","auto",1,"wrapper"],["fxLayout","row","fxLayoutGap","24px","fxLayoutAlign","space-between start"],[1,"label"],[1,"toggle-container"],[1,"btn-toggle-container"],[1,"btn-toggle",3,"click","ngClass"],[1,"text-container",3,"fxLayoutAlign"],[4,"ngIf"],["fxLayout","row","fxLayoutAlign","start start"],["fxFlex","50",1,"submit",3,"click"],["fxLayout","column","fxLayoutGap","38px",1,"wrapper","form-container",3,"formGroup"],["fxLayout","column","fxLayoutGap","15px"],["for","prenom"],["formControlName","firstName","type","text","id","prenom","placeholder","John",1,"form-control"],["for","nom"],["formControlName","lastName","type","text","id","nom","placeholder","Doe",1,"form-control"],["for","address"],["formControlName","email","type","text","id","address","placeholder","john@gmail.com",1,"form-control",3,"disabled"],["for","phone"],["formControlName","phoneNumber","type","text","id","phone","placeholder","+221 77 000 00 00",1,"form-control"],["for","code-postal"],["formControlName","address","type","text","id","code-postal","placeholder","",1,"form-control"],["fxLayout","column","fxLayoutGap","38px",1,"form-container",3,"formGroup"],["fxLayout","column","fxLayoutGap","38px",1,"wrapper"],["for","password1"],["fxLayoutAlign","end center",1,"form-group"],["formControlName","oldPassword","placeholder","entrer votre mot de passe","id","password1","name","password","ngModel","","required","",1,"form-control",3,"type"],[1,"toggle-password-visibility",3,"click"],["for","password2"],["formControlName","newPassword","placeholder","entrer votre mot de passe","id","password2","name","password","ngModel","","required","",1,"form-control",3,"type"],["for","password3"],["formControlName","confirmPassword","placeholder","entrer votre mot de passe","id","password3","name","password","ngModel","","required","",3,"type"],["fxFill","","fxLayout","row wrap","fxLayoutAlign","start start"],["fxFlex","100",1,"submit",3,"click"]],template:function(n,a){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),t.EFF(4,"Mon profil"),t.k0s(),t.DNE(5,rt,21,2,"form",4),t.k0s(),t.j41(6,"div",5),t.DNE(7,it,31,13,"form",6),t.j41(8,"div",7)(9,"span",3),t.EFF(10,"Notification"),t.k0s(),t.j41(11,"div",8)(12,"div",9)(13,"span",10),t.EFF(14,"Notifications par email"),t.k0s(),t.j41(15,"span",11)(16,"span",12)(17,"span",13),t.bIt("click",function(){return a.toggleMailActivation=!a.toggleMailActivation}),t.k0s()(),t.j41(18,"span",14),t.DNE(19,st,2,0,"span",15)(20,ct,2,0,"span",15),t.k0s()()()()()()(),t.j41(21,"div",16)(22,"button",17),t.bIt("click",function(){return a.updateProfile()}),t.EFF(23,"Mettre \xe0 jour"),t.k0s()()()),2&n&&(t.R7$(5),t.Y8G("ngIf",a.updateProfileForm),t.R7$(2),t.Y8G("ngIf",a.updatePasswordForm),t.R7$(10),t.Y8G("ngClass",a.toggleMailActivation?"actived":""),t.R7$(),t.Y8G("fxLayoutAlign",a.toggleMailActivation?"end start":"start start"),t.R7$(),t.Y8G("ngIf",a.toggleMailActivation),t.R7$(),t.Y8G("ngIf",!a.toggleMailActivation))},dependencies:[r.YU,r.bT,u.DJ,u.BO,u.sA,u.G2,u.UI,P.PW,_.An,m.qT,m.me,m.BC,m.cb,m.YS,m.j4,m.JD],styles:[".toggle-container[_ngcontent-%COMP%]{width:77px}.btn-toggle-container[_ngcontent-%COMP%]{display:block;width:100%;height:32px;border-radius:14px;background-color:#0c1d58;padding:4px}.btn-toggle-container[_ngcontent-%COMP%]   .btn-toggle[_ngcontent-%COMP%]{display:block;width:24px;height:24px;border-radius:50%;background-color:#fff;cursor:pointer;transform:translate(0);transition:all .6s}.btn-toggle-container[_ngcontent-%COMP%]   .btn-toggle.actived[_ngcontent-%COMP%]{transform:translate(45px)}input.error[_ngcontent-%COMP%]{border:1px solid red}label.error[_ngcontent-%COMP%]{color:red}.text-container[_ngcontent-%COMP%]{display:block;width:100%;color:var(--Noir, #000);font-family:Poppins;font-size:11px;font-weight:400;line-height:120%;letter-spacing:.055px}"]})}return o})();function dt(o,f){1&o&&(t.j41(0,"div",2)(1,"div",3)(2,"span",4),t.EFF(3,"Demande N\xb0021"),t.k0s(),t.j41(4,"span",5)(5,"span",6),t.EFF(6,"Aujoud'hui"),t.k0s(),t.nrm(7,"span",7),t.j41(8,"span",8),t.EFF(9,"par Youssouph Ndiaye"),t.k0s()()(),t.j41(10,"div",9),t.EFF(11," Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt "),t.k0s()())}const ut=[{path:"",redirectTo:"overview",pathMatch:"full"},{path:"",component:S,children:[{path:"overview",component:W},{path:"requests-list",component:at},{path:"collaborators",loadChildren:()=>c.e(740).then(c.bind(c,9740)).then(o=>o.CollaboratorsModule)},{path:"Notifications",component:(()=>{class o{constructor(){this.notfis=[{},{},{},{},{}]}static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-notifications"]],decls:2,vars:1,consts:[["fxFlex","100",1,"notif-list-container"],["class","notif","fxLayout","column","fxLayoutGap","13px",4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutGap","13px",1,"notif"],["fxLayout","row","fxLayoutAlign","space-between start"],[1,"notif-title"],["fxLayout","row","fxLayoutAlign.lg","start center","fxLayoutGap","8px",1,"date-and-destinatary"],[1,"date"],[1,"separator"],[1,"collobator"],[1,"notif-content","text-on-2-line"]],template:function(n,a){1&n&&(t.j41(0,"div",0),t.DNE(1,dt,12,0,"div",1),t.k0s()),2&n&&(t.R7$(),t.Y8G("ngForOf",a.notfis))},dependencies:[r.Sq,u.DJ,u.BO,u.sA,u.UI],styles:[".notif-list-container[_ngcontent-%COMP%]{border-radius:10px;border:1px solid #33343D;background:#fefefe}.notif[_ngcontent-%COMP%]{padding:40px;border-bottom:1px solid #BDBDBD}.notif[_ngcontent-%COMP%]:last-child{border-bottom:none}.notif[_ngcontent-%COMP%]   .notif-title[_ngcontent-%COMP%]{color:var(--Primary, #001F60);font-family:Poppins;font-size:18px;font-weight:600;line-height:120%;letter-spacing:.09px}.notif[_ngcontent-%COMP%]   .notif-content[_ngcontent-%COMP%]{color:var(--XOF, #526F84);font-family:Poppins;font-size:16px;font-weight:400;line-height:150%;letter-spacing:.09px}.notif[_ngcontent-%COMP%]   .date-and-destinatary[_ngcontent-%COMP%]{color:var(--Primary, #001F60);font-family:Poppins;font-size:10px;font-weight:400}.notif[_ngcontent-%COMP%]   .date-and-destinatary[_ngcontent-%COMP%]   .separator[_ngcontent-%COMP%]{width:5px;height:5px;flex-shrink:0;background-color:#ffc400;border-radius:50%}"]})}return o})()},{path:"user",component:lt}]}];let pt=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.$C({type:o});static#n=this.\u0275inj=t.G2t({imports:[r.MD,l.iI.forChild(ut),l.iI]})}return o})();var X=c(6924),ft=c(1434),gt=c(2808),mt=c(6654);let ht=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.$C({type:o,bootstrap:[V]});static#n=this.\u0275inj=t.G2t({imports:[r.MD,F.hM,_.m_,X.YF,m.YN]})}return o})(),vt=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.$C({type:o});static#n=this.\u0275inj=t.G2t({imports:[r.MD,F.hM,ht]})}return o})(),Ct=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.$C({type:o});static#n=this.\u0275inj=t.G2t({imports:[r.MD,pt,l.iI,X.YF,_.m_,p,ft.k,gt.G,mt.k,vt,F.hM,m.X1]})}return o})()},4827:(L,w,c)=>{c.d(w,{B:()=>b});var r=c(4438),l=c(2920);let b=(()=>{class t{static#t=this.\u0275fac=function(y){return new(y||t)};static#e=this.\u0275cmp=r.VBU({type:t,selectors:[["app-user-details"]],inputs:{user:"user"},decls:39,vars:6,consts:[["fxLayout","column","fxLayoutGap","13px",1,"container"],["fxLayout","column",1,"top"],[1,"title"],[1,"chart-container"],["fxLayout","column","fxLayoutGap","12px",1,"details-top"],["fxLayout","row","fxLayoutAlign","space-between center",1,"item"],[1,"label"],[1,"value"],["fxLayout","column",1,"bottom"],["fxLayout","column","fxLayoutAlign","start center","fxLayoutGap","12px",1,"details-bottom"],["fxLayout","row","fxLayoutAlign","center center","fxLayoutGap","24px",1,"image-container"],["src","./assets/img/icon-setting.svg","alt",""],[1,"img-user"],["src","./assets/img/img-user.png","alt",""],["src","./assets/img/icon-email.svg","alt",""],["fxLayout","column","fxLayoutAlign","start center","fxLayoutGap","4px"],["fxLayoutAlign","center start",1,"user-name"],["fxLayoutAlign","center start",1,"user-company"],["fxLayoutAlign","center center",1,"btn-save"]],template:function(y,d){1&y&&(r.j41(0,"div",0)(1,"div",1)(2,"span",2),r.EFF(3," Informations "),r.k0s(),r.nrm(4,"div",3),r.j41(5,"ul",4)(6,"li",5)(7,"span",6),r.EFF(8,"Salaire net mensuel :"),r.k0s(),r.j41(9,"span",7),r.EFF(10),r.k0s()(),r.j41(11,"li",5)(12,"span",6),r.EFF(13,"Acompte autoris\xe9 :"),r.k0s(),r.j41(14,"span",7),r.EFF(15),r.k0s()(),r.j41(16,"li",5)(17,"span",6),r.EFF(18,"Iban :"),r.k0s(),r.j41(19,"span",7),r.EFF(20),r.k0s()()()(),r.j41(21,"div",8)(22,"span",2),r.EFF(23," Collaborateur "),r.k0s(),r.j41(24,"div",9)(25,"div",10)(26,"span"),r.nrm(27,"img",11),r.k0s(),r.j41(28,"div",12),r.nrm(29,"img",13),r.k0s(),r.j41(30,"span"),r.nrm(31,"img",14),r.k0s()(),r.j41(32,"div",15)(33,"span",16),r.EFF(34),r.k0s(),r.j41(35,"span",17),r.EFF(36),r.k0s()()(),r.j41(37,"span",18),r.EFF(38," Sauvegarder "),r.k0s()()()),2&y&&(r.R7$(10),r.SpI("XOF ",null==d.user?null:d.user.salary,""),r.R7$(5),r.SpI("XOF ",null==d.user?null:d.user.authorizedAdvance,""),r.R7$(5),r.JRh(null==d.user?null:d.user.bankAccountNumber),r.R7$(14),r.Lme("",null==d.user?null:d.user.firstName," ",null==d.user?null:d.user.lastName,""),r.R7$(2),r.JRh(null==d.user||null==d.user.organization?null:d.user.organization.name))},dependencies:[l.DJ,l.BO,l.sA],styles:['.container[_ngcontent-%COMP%]{font-family:Poppins}.title[_ngcontent-%COMP%]{color:#061e5c;font-size:14px;font-weight:600;display:inline-block;padding:14px 19px 10px;border-bottom:1px solid #E7E8F2}.top[_ngcontent-%COMP%], .bottom[_ngcontent-%COMP%]{border-radius:6px;border:1px solid #E7E8F2;background:#fff}.top[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{height:200px;border-bottom:1px solid #E7E8F2}.top[_ngcontent-%COMP%]   .details-top[_ngcontent-%COMP%]{padding:22px 19px 18px}.top[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#25233a40;font-size:12px;font-weight:400}.top[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#33343e;font-size:12px;font-weight:600}.bottom[_ngcontent-%COMP%]   .details-bottom[_ngcontent-%COMP%]{padding:32px 0 24px}.bottom[_ngcontent-%COMP%]   .details-bottom[_ngcontent-%COMP%]   .img-user[_ngcontent-%COMP%]{width:88.528px;height:88.528px;border-radius:50%;position:relative}.bottom[_ngcontent-%COMP%]   .details-bottom[_ngcontent-%COMP%]   .img-user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%;border-radius:50%}.bottom[_ngcontent-%COMP%]   .details-bottom[_ngcontent-%COMP%]   .img-user[_ngcontent-%COMP%]:before{position:absolute;content:"";top:8px;right:0;width:8px;height:8px;background-color:#00a9ee;border-radius:50%;border:3px solid #fff}.bottom[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{color:#25233a;font-size:16px;font-weight:500}.bottom[_ngcontent-%COMP%]   .user-company[_ngcontent-%COMP%]{color:#8b8c99;font-size:12px;font-weight:400}.bottom[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{height:48px;background:#061e5c;color:#fff;font-size:15px;font-weight:600;cursor:pointer}']})}return t})()},1434:(L,w,c)=>{c.d(w,{k:()=>x});var r=c(177),l=c(6924),b=c(9213),t=c(4438);let x=(()=>{class C{static#t=this.\u0275fac=function(u){return new(u||C)};static#e=this.\u0275mod=t.$C({type:C});static#n=this.\u0275inj=t.G2t({imports:[r.MD,l.YF,b.m_]})}return C})()},2649:(L,w,c)=>{c.d(w,{x:()=>l});var r=c(4438);let l=(()=>{class b{constructor(x,C){this.el=x,this.renderer=C,this.isOpen=!1}clickOutside(x){this.el.nativeElement.contains(x.target)||(this.isOpen=!1,this.renderer.removeClass(this.el.nativeElement.querySelector(`#${this.appDropdown}`),"show"))}toggleOpen(){this.isOpen=!this.isOpen;const x=this.el.nativeElement.querySelector(`#${this.appDropdown}`);this.isOpen?this.renderer.addClass(x,"show"):this.renderer.removeClass(x,"show")}static#t=this.\u0275fac=function(C){return new(C||b)(r.rXU(r.aKT),r.rXU(r.sFG))};static#e=this.\u0275dir=r.FsC({type:b,selectors:[["","appDropdown",""]],hostBindings:function(C,y){1&C&&r.bIt("click",function(u){return y.clickOutside(u)},!1,r.EBC)("click",function(){return y.toggleOpen()})},inputs:{appDropdown:"appDropdown"}})}return b})()},7393:(L,w,c)=>{c.d(w,{$R:()=>D,$n:()=>B,Nd:()=>b,Pn:()=>A,YZ:()=>S,cq:()=>z,fK:()=>T,im:()=>u,kz:()=>_,lV:()=>x,oT:()=>y,q0:()=>N});var r=c(6772),l=c(4438),b=function(i){return i.Cancelled="CANCELLED",i.InProcess="IN_PROCESS",i.Pending="PENDING",i.Rejected="REJECTED",i.Validated="VALIDATED",i}(b||{});const t=r.J1`
    query FetchOrganizationCollaborators {
  fetchOrganizationCollaborators {
    id
    firstName
    lastName
    email
    phoneNumber
    uniqueIdentifier
    address
    salary
    balance
    wizallAccountNumber
    bankAccountNumber
    position
    authorizedAdvance
    createdAt
    updatedAt
    organization {
      name
    }
  }
}
    `;let x=(()=>{class i extends r.XK{constructor(p){super(p),this.document=t}static#t=this.\u0275fac=function(h){return new(h||i)(l.KVO(r.Ic))};static#e=this.\u0275prov=l.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const C=r.J1`
    mutation InviteCollaborator($collaboratorInput: InviteCollaboratorInput!) {
  inviteCollaborator(collaborator: $collaboratorInput)
}
    `;let y=(()=>{class i extends r.sM{constructor(p){super(p),this.document=C}static#t=this.\u0275fac=function(h){return new(h||i)(l.KVO(r.Ic))};static#e=this.\u0275prov=l.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const d=r.J1`
    query FetchOrganizationCollaborator($collaboratorId: String!) {
  fetchOrganizationCollaborator(collaboratorId: $collaboratorId) {
    id
    firstName
    lastName
    email
    phoneNumber
    uniqueIdentifier
    address
    salary
    wizallAccountNumber
    bankAccountNumber
    position
    authorizedAdvance
    organization {
      name
    }
  }
}
    `;let u=(()=>{class i extends r.XK{constructor(p){super(p),this.document=d}static#t=this.\u0275fac=function(h){return new(h||i)(l.KVO(r.Ic))};static#e=this.\u0275prov=l.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const P=r.J1`
    mutation UpdateCollaborator($collaboratorInput: UpdateCollaboratorInput!, $collaboratorId: String!) {
  updateCollaborator(
    collaborator: $collaboratorInput
    collaboratorId: $collaboratorId
  )
}
    `;let _=(()=>{class i extends r.sM{constructor(p){super(p),this.document=P}static#t=this.\u0275fac=function(h){return new(h||i)(l.KVO(r.Ic))};static#e=this.\u0275prov=l.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const j=r.J1`
    query FetchOrganizationDemandes {
  fetchOrganizationDemandes {
    id
    amount
    status
    number
    fees
    collaborator {
      id
      firstName
      lastName
      balance
      salary
      authorizedAdvance
      bankAccountNumber
      organization {
        name
      }
    }
    createdAt
    updatedAt
  }
}
    `;let D=(()=>{class i extends r.XK{constructor(p){super(p),this.document=j}static#t=this.\u0275fac=function(h){return new(h||i)(l.KVO(r.Ic))};static#e=this.\u0275prov=l.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const M=r.J1`
    mutation ValidateDemande($demandeId: ID!) {
  validateDemande(demandeId: $demandeId)
}
    `;let A=(()=>{class i extends r.sM{constructor(p){super(p),this.document=M}static#t=this.\u0275fac=function(h){return new(h||i)(l.KVO(r.Ic))};static#e=this.\u0275prov=l.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const R=r.J1`
    mutation CancelDemandeByAdmin($demandeId: ID!) {
  cancelDemandeByAdmin(demandeId: $demandeId)
}
    `;let T=(()=>{class i extends r.sM{constructor(p){super(p),this.document=R}static#t=this.\u0275fac=function(h){return new(h||i)(l.KVO(r.Ic))};static#e=this.\u0275prov=l.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const I=r.J1`
    mutation RejectDemandeByAdmin($demandeId: ID!, $rejectedReason: String!) {
  rejectDemandeByAdmin(demandeId: $demandeId, rejectedReason: $rejectedReason)
}
    `;let S=(()=>{class i extends r.sM{constructor(p){super(p),this.document=I}static#t=this.\u0275fac=function(h){return new(h||i)(l.KVO(r.Ic))};static#e=this.\u0275prov=l.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const G=r.J1`
    mutation UpdateMyAdminPassword($oldPassword: String!, $newPassword: String!) {
  updateMyAdminPassword(oldPassword: $oldPassword, newPassword: $newPassword)
}
    `;let N=(()=>{class i extends r.sM{constructor(p){super(p),this.document=G}static#t=this.\u0275fac=function(h){return new(h||i)(l.KVO(r.Ic))};static#e=this.\u0275prov=l.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const U=r.J1`
    query FetchCurrentAdmin {
  fetchCurrentAdmin {
    id
    firstName
    lastName
    email
    phoneNumber
    address
    role
  }
}
    `;let B=(()=>{class i extends r.XK{constructor(p){super(p),this.document=U}static#t=this.\u0275fac=function(h){return new(h||i)(l.KVO(r.Ic))};static#e=this.\u0275prov=l.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const k=r.J1`
    mutation UpdateMyAdminProfile($userInput: UpdateMyAdminProfileInput!) {
  updateMyAdminProfile(userInput: $userInput)
}
    `;let z=(()=>{class i extends r.sM{constructor(p){super(p),this.document=k}static#t=this.\u0275fac=function(h){return new(h||i)(l.KVO(r.Ic))};static#e=this.\u0275prov=l.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()}}]);