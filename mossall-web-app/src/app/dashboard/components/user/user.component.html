<div class=" page-wrapper form-container form-container-card" fxLayout="column" fxLayoutGap="32px">
    <div fxLayout="row" fxLayoutGap="32px">
        <div fxFlex="50" fxLayout="column" fxLayoutGap="38px">
            <span class="title">Mon profil</span>
            <form *ngIf="updateProfileForm" [formGroup]="updateProfileForm" class="wrapper form-container"
                fxLayout="column" fxLayoutGap="38px">
                <div fxLayout="column" fxLayoutGap="15px">
                    <label for="prenom">Prénom <span class="color-danger">*</span></label>
                    <input formControlName="firstName" type="text" id="prenom" class="form-control" placeholder="John">
                </div>
                <div fxLayout="column" fxLayoutGap="15px">
                    <label for="nom">Nom <span class="color-danger">*</span></label>
                    <input formControlName="lastName" type="text" id="nom" class="form-control" placeholder="Doe">
                </div>
                <div fxLayout="column" fxLayoutGap="15px">
                    <label for="address">Adresse mail <span class="color-danger">*</span></label>
                    <input formControlName="email" [disabled]="true" type="text" id="address" class="form-control"
                        placeholder="john@gmail.com">
                </div>
                <div fxLayout="column" fxLayoutGap="15px">
                    <label for="phone">Téléphone <span class="color-danger">*</span></label>
                    <input formControlName="phoneNumber" type="text" id="phone" class="form-control"
                        placeholder="770000000">
                        <small class="color-danger" *ngIf="phoneNumber.touched && phoneNumber.invalid">Le numéro de téléphone doit être de 9 chiffres sans espace et commencer par 78, 77, 76, 70 ou 75. Ex: 785238928</small>
                </div>
                <div fxLayout="column" fxLayoutGap="15px">
                    <label for="code-postal">Adresse</label>
                    <input formControlName="address" type="text" id="code-postal" class="form-control" placeholder="">
                </div>
            </form>
        </div>
        <div fxFlex="50" fxLayout="column" fxLayoutGap="24px">
            <form *ngIf="updatePasswordForm" [formGroup]="updatePasswordForm" fxLayout="column" fxLayoutGap="38px"
                class="form-container">
                <span class="title">Mot de passe</span>
                <div class="wrapper" fxLayout="column" fxLayoutGap="38px">
                    <div fxLayout="column" fxLayoutGap="15px">
                        <label for="password1">Mot de passe actuel <span class="color-danger">*</span></label>
                        <div class="form-group" fxLayoutAlign="end center">
                            <input formControlName="oldPassword" class="form-control"
                                [type]="password?'password':'text'" placeholder="entrer votre mot de passe"
                                id="password1" name="password" ngModel required="">
                            <span class="toggle-password-visibility"
                                (click)="password=!password"><mat-icon>{{password?'visibility_off':'visibility'}}</mat-icon></span>
                        </div>
                    </div>
                    <div fxLayout="column" fxLayoutGap="15px">
                        <label for="password2">Nouveau mot de passe <span class="color-danger">*</span></label>
                        <div class="form-group" fxLayoutAlign="end center">
                            <input formControlName="newPassword" class="form-control"
                                [type]="newPassword?'password':'text'" placeholder="entrer votre mot de passe"
                                id="password2" name="password" ngModel required="">
                            <span class="toggle-password-visibility"
                                (click)="newPassword=!newPassword"><mat-icon>{{newPassword?'visibility_off':'visibility'}}</mat-icon></span>
                        </div>
                    </div>
                    <div fxLayout="column" fxLayoutGap="15px">
                        <label for="password3" class="{{ passwordNotEqual ? 'error' : '' }}">Confirmation de votre mot
                            de passe <span class="color-danger">*</span></label>
                        <div class="form-group" fxLayoutAlign="end center">
                            <input formControlName="confirmPassword"
                                class="form-control {{ passwordNotEqual ? 'error' : '' }}"
                                [type]="ConfirmPassword?'password':'text'" placeholder="entrer votre mot de passe"
                                id="password3" name="password" ngModel required="">
                            <span class="toggle-password-visibility"
                                (click)="ConfirmPassword=!ConfirmPassword"><mat-icon>{{ConfirmPassword?'visibility_off':'visibility'}}</mat-icon></span>
                        </div>
                    </div>
                    <div fxFill fxLayout="row wrap" fxLayoutAlign="start start">
                        <button (click)="updatePassword()" class="submit" fxFlex="100">Mettre à jour</button>
                    </div>
                </div>
            </form>
            <div fxFlex="auto" fxLayout="column" fxLayoutGap="38px">
                <span class="title">Notification</span>
                <div class="wrapper" fxLayout="column" fxLayoutGap="38px" fxFlex="auto">
                    <div fxLayout="row" fxLayoutGap="24px" fxLayoutAlign="space-between start">
                        <span class="label">Notifications par email</span>
                        <span class="toggle-container">
                            <span class="btn-toggle-container" (click)="setToggleMailActivation()">
                                <span class="btn-toggle" [ngClass]="toggleMailActivation?'actived':''"></span>
                            </span>
                            <span class="text-container"
                                [fxLayoutAlign]="toggleMailActivation?'end start':'start start'"><span
                                    *ngIf="toggleMailActivation">Activé</span><span
                                    *ngIf="!toggleMailActivation">Desactivé</span></span>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div fxLayout="row" fxLayoutAlign="start start" fxLayoutGap="32px">
        <button class="submit" (click)="updateProfile()" fxFlex="50">Mettre à jour</button>
        <div fxFlex="50"></div>
    </div>
</div>
